(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{236:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(372),a=n(15),o=n.n(a),i=n(1),l=n.n(i),c=n(237),s=l.a.memo(function(e){return l.a.createElement(r.a,Object.assign({},e,{className:o()(c.ph,e.className)}))})},237:function(e,t,n){e.exports={ph:"page-header_ph__1jMB9"}},251:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(256),a=n(15),o=n.n(a),i=(n(298),n(1)),l=n.n(i),c=n(252),s=l.a.memo(function(e){var t=e.cursors,n=e.onChange,a=null!=t&&null!=t.before&&""!==t.before,i=t&&a?n.bind(null,t.before):void 0,s=null!=t&&null!=t.after&&""!==t.after,u=t&&s?n.bind(null,t.after):void 0;return l.a.createElement("ul",{className:o()("rc-pagination",c.pager)},l.a.createElement("li",{"aria-disabled":!a},l.a.createElement(r.a,{className:c.left,icon:"left",size:"small",onClick:i,disabled:!a})),l.a.createElement("li",{"aria-disabled":!s},l.a.createElement(r.a,{className:c.right,icon:"right",size:"small",onClick:u,disabled:!s})))})},252:function(e,t,n){e.exports={pager:"pagination_pager__2jn8A",left:"pagination_left__2qMCU",right:"pagination_right__1foH8"}},305:function(e,t,n){e.exports={table:"table_table__20wxp"}},325:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var r=n(241),a=n(242),o=n.n(a);function i(){var e=Object(r.a)(['\n    query findJob($projectId: String!, $id: String!) {\n        output(projectId: $projectId, id: $id)\n            @rest(\n                type: "Script"\n                path: "/projects/{args.projectId}/exec/{args.id}"\n            ) {\n            jobId\n            scriptId\n            status\n            cause\n            params\n            startedAt\n            endedAt\n            logs\n            error\n        }\n    }\n']);return i=function(){return e},e}function l(){var e=Object(r.a)(['\n    query findJobs($projectId: String!, $query: Query) {\n        output(projectId: $projectId, query: $query)\n            @rest(\n                type: "[Execution]"\n                path: "/projects/{args.projectId}/exec?{args.query}"\n            ) {\n            paging\n            data\n        }\n    }\n']);return l=function(){return e},e}var c=o()(l()),s=o()(i())},329:function(e,t,n){"use strict";var r,a=n(67),o=n(541),i=n(1),l=n.n(i),c="unknown",s="manual",u="schedule",d="hook";n.d(t,"a",function(){return f});var p=(r={},Object(a.a)(r,s,"purple"),Object(a.a)(r,u,"cyan"),Object(a.a)(r,d,"volcano"),Object(a.a)(r,c,"black"),r),f=l.a.memo(function(e){var t=e.value;return l.a.createElement(o.a,{color:p[t]},t)})},330:function(e,t,n){"use strict";var r,a=n(67),o=n(541),i=n(1),l=n.n(i),c="unknown",s="queued",u="running",d="completed",p="cancelled",f="errored";n.d(t,"a",function(){return h});var b=(r={},Object(a.a)(r,d,"green"),Object(a.a)(r,u,"blue"),Object(a.a)(r,f,"red"),Object(a.a)(r,p,"grey"),Object(a.a)(r,s,"orange"),Object(a.a)(r,c,"black"),r),h=l.a.memo(function(e){var t=e.value;return l.a.createElement(o.a,{color:b[t]},t)})},331:function(e,t,n){"use strict";var r,a=n(13),o=n(16),i=n(22),l=n(21),c=n(23),s=n(31),u=n(549),d=n(548),p=n(256),f=n(74),b=n.n(f),h=n(1),y=n.n(h);!function(e){e.Asc="ASC",e.Desc="DESC"}(r||(r={}));var g=n(236),_=n(251);n.d(t,"a",function(){return m});var v=n(305),m=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).__handleRowSelection=void 0,n.state={selectedRows:[]},n.__getRowKey=n.__getRowKey.bind(Object(s.a)(Object(s.a)(n))),n.__handleRowSelection={onChange:function(e){null!=n.props.onChange&&n.props.onChange(e),n.setState({selectedRows:e})},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name}}},n.__handleTableChange=n.__handleTableChange.bind(Object(s.a)(Object(s.a)(n))),n.__handleCloneClick=n.__handleCloneClick.bind(Object(s.a)(Object(s.a)(n))),n.__handleDeleteClick=n.__handleDeleteClick.bind(Object(s.a)(Object(s.a)(n))),n.__handlePaginationChange=n.__handlePaginationChange.bind(Object(s.a)(Object(s.a)(n))),n}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columns,n=e.data,r=e.loading,a=e.pagination,o=e.title,i=this.props,l=i.onCreate,c=i.onClone,s=i.onDelete,p=null!=l||null!=c||null!=s;return y.a.createElement(u.a,null,y.a.createElement(g.a,{title:o,extra:this.__renderButtons()}),y.a.createElement(d.a,{className:v.table,rowKey:this.__getRowKey,columns:t,dataSource:n,pagination:!1,loading:r,rowSelection:p?this.__handleRowSelection:void 0}),y.a.createElement(_.a,{cursors:a?a.cursors:void 0,onChange:this.__handlePaginationChange}))}},{key:"__renderButtons",value:function(){var e=this.state.selectedRows,t=this.props,n=t.onCreate,r=t.onClone,a=t.onDelete,o=[];return"function"===typeof n&&o.push(y.a.createElement(p.a,{type:"primary",key:"create",icon:"plus",disabled:!b()(e),onClick:n},"Create")),"function"===typeof r&&o.push(y.a.createElement(p.a,{type:"default",key:"copy",icon:"copy",disabled:e.length>1||e.length<1,onClick:this.__handleCloneClick},"Clone")),"function"===typeof a&&o.push(y.a.createElement(p.a,{type:"danger",key:"delete",icon:"delete",disabled:b()(e),onClick:this.__handleDeleteClick},"Delete")),o}},{key:"__handleTableChange",value:function(e,t,n){var a,o;null!=n&&!1===b()(n.field)&&!1===b()(n.order)&&(a={columns:[{name:n.field,order:(o=n.order,"descend"===o?r.Desc:r.Asc)}]}),this.props.loadMore({sorting:a})}},{key:"__handlePaginationChange",value:function(e){this.props.loadMore({cursor:e})}},{key:"__handleCloneClick",value:function(){var e=this.props.onClone,t=this.state.selectedRows;b()(t)||"function"===typeof e&&e(t[0])}},{key:"__handleDeleteClick",value:function(){var e=this.props.onDelete,t=this.state.selectedRows;b()(t)||"function"===typeof e&&e(t)}},{key:"__getRowKey",value:function(e){return e[this.props.rowKey||"id"]}}]),t}(y.a.PureComponent)},541:function(e,t,n){"use strict";var r=n(1),a=n(15),o=n.n(a),i=n(62),l=n(225),c=n(224),s=n(59);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},_=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=b(this,h(t).apply(this,arguments))).handleClick=function(){var t=e.props,n=t.checked,r=t.onChange;r&&r(!n)},e.renderCheckableTag=function(t){var n,a=t.getPrefixCls,i=e.props,l=i.prefixCls,c=i.className,s=i.checked,u=g(i,["prefixCls","className","checked"]),f=a("tag",l),b=o()(f,(p(n={},"".concat(f,"-checkable"),!0),p(n,"".concat(f,"-checkable-checked"),s),n),c);return delete u.onChange,r.createElement("div",d({},u,{className:b,onClick:e.handleClick}))},e}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return r.createElement(s.a,null,this.renderCheckableTag)}}])&&f(n.prototype,a),i&&f(n,i),t}(),v=n(64),m=Object(v.a)("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),j=n(228),O=n(259);function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},T=new RegExp("^(".concat(m.join("|"),")(-inverse)?$")),D=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=E(this,S(t).call(this,e))).state={visible:!0},n.handleIconClick=function(e){n.setVisible(!1,e)},n.renderTag=function(e){var t=n.props,a=(t.prefixCls,t.children),o=x(t,["prefixCls","children"]),l="onClick"in o||a&&"a"===a.type,c=Object(i.a)(o,["onClose","afterClose","color","visible","closable"]);return l?r.createElement(O.a,null,r.createElement("div",w({},c,{className:n.getTagClassName(e),style:n.getTagStyle()}),a,n.renderCloseIcon())):r.createElement("div",w({},c,{className:n.getTagClassName(e),style:n.getTagStyle()}),a,n.renderCloseIcon())},Object(j.a)(!("afterClose"in e),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),n}var n,a,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,r["Component"]),n=t,l=[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:null}}],(a=[{key:"setVisible",value:function(e,t){var n=this.props,r=n.onClose,a=n.afterClose;r&&r(t),a&&!r&&a(),t.defaultPrevented||"visible"in this.props||this.setState({visible:e})}},{key:"isPresetColor",value:function(e){return!!e&&T.test(e)}},{key:"getTagStyle",value:function(){var e=this.props,t=e.color,n=e.style,r=this.isPresetColor(t);return w({backgroundColor:t&&!r?t:void 0},n)}},{key:"getTagClassName",value:function(e){var t,n=e.getPrefixCls,r=this.props,a=r.prefixCls,i=r.className,l=r.color,c=this.state.visible,s=this.isPresetColor(l),u=n("tag",a);return o()(u,(k(t={},"".concat(u,"-").concat(l),s),k(t,"".concat(u,"-has-color"),l&&!s),k(t,"".concat(u,"-hidden"),!c),t),i)}},{key:"renderCloseIcon",value:function(){return this.props.closable?r.createElement(c.a,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return r.createElement(s.a,null,this.renderTag)}}])&&P(n.prototype,a),l&&P(n,l),t}();D.CheckableTag=_,D.defaultProps={closable:!1},Object(l.polyfill)(D);t.a=D},543:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(16),o=n(22),i=n(21),l=n(23),c=n(31),s=n(540),u=n(1),d=n.n(u),p=n(69),f=n(325),b=n(63),h=n(219),y=n(329),g=n(330),_=n(331),v=function(e){function t(e){var n;Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).__columns=void 0;var a=function(e,t){return d.a.createElement(h.a,{to:"".concat(n.props.baseUrl,"/").concat(t.jobId)},e)};return n.__columns=[{dataIndex:"jobId",key:"jobId",title:"Job ID",render:a},{dataIndex:"scriptId",key:"scriptId",title:"Script ID",render:a},{dataIndex:"cause",key:"cause",title:"Cause",render:function(e,t){return a(d.a.createElement(y.a,{value:t.cause}),t)}},{dataIndex:"status",key:"status",title:"Status",render:function(e,t){return a(d.a.createElement(g.a,{value:t.status}),t)}},{dataIndex:"startedAt",key:"startedAt",title:"Started",render:a},{dataIndex:"endedAt",key:"endedAt",title:"Ended",render:a}],n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.result,n=e.loading,r=e.loadMore;return d.a.createElement(_.a,{title:"Queue",columns:this.__columns,rowKey:"jobId",data:t?t.data:void 0,loading:n,loadMore:r,pagination:t?t.paging:void 0})}}]),t}(d.a.Component);n.d(t,"default",function(){return m});var m=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).__isPolling=void 0,n.__isPolling=!1,n.__loadMoreScripts=n.__loadMoreScripts.bind(Object(c.a)(Object(c.a)(n))),n.__renderList=n.__renderList.bind(Object(c.a)(Object(c.a)(n))),n.__handleError=n.__handleError.bind(Object(c.a)(Object(c.a)(n))),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t={projectId:this.props.projectId,query:this.getQuery()};return d.a.createElement(p.c,{query:f.a,variables:t,fetchPolicy:"network-only",onError:this.__handleError},function(t){return e.__renderList(t)})}},{key:"__renderList",value:function(e){var t=e.loading,n=e.data?e.data.output:void 0;return this.__startOrStopPolling(e),d.a.createElement(v,{baseUrl:this.props.location.pathname,result:n,loading:t,loadMore:this.__loadMoreScripts})}},{key:"__startOrStopPolling",value:function(e){var t=e.data?e.data.output:void 0;null!=t?t.data.some(function(e){return"running"===e.status})?this.__isPolling||(this.__isPolling=!0,e.startPolling(1e3)):this.__isPolling&&(this.__isPolling=!1,e.stopPolling()):this.__isPolling&&e.stopPolling()}},{key:"__loadMoreScripts",value:function(e){this.navigate(this.getPath(),e)}},{key:"__handleError",value:function(e){s.a.error({message:e.message})}}]),t}(b.a)}}]);
//# sourceMappingURL=14.64332e0a.chunk.js.map